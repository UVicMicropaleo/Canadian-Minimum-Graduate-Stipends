)
## Gross Stipend (Domestic) Boxplots
boxplot(sos$Gross.Stipend[which(sos$Guaranteed.Funding == "Yes")] ~ sos$Program[which(sos$Guaranteed.Funding == "Yes")],
ylim=ylimits,
main="Gross Domestic")
abline(h=0,col="black")
abline(h=c(NSERC.msc,NSERC.phd),col="red")
boxplot(us.data$Annual.guaranteed.salary*us.to.cad,
ylim=ylimits,
main="US [box],UK [line]")
abline(h=uk.stipend,col="blue")
abline(h=0,col="black")
```
par(mfcol=c(1,1))
boxplot(sos$Net.domestic...MBM.Threshold..2023.[which(sos$Guaranteed.Funding == "Yes")] ~ sos$Program[which(sos$Guaranteed.Funding == "Yes")],
ylim=ylimits,
main="Supported Domestic students vs. poverty line")
abline(h=0)
par(mfcol=c(1,2))
#setting up a stable y to maintain through various plots
ylimits<-c(min(c(sos$Net.domestic...MBM.Threshold..2024.,
{us.data$Annual.guaranteed.salary-us.data$MIT.Living.Wage..1.adult..0.children.}*us.to.cad,
uk.stipend-uk.cost.of.living.min,
uk.stipend-uk.cost.of.living.max),
na.rm=T),
max(c(sos$Gross.Stipend,
{us.data$Annual.guaranteed.salary}*us.to.cad,
uk.stipend,
uk.stipend),
na.rm=T)
)
## Gross Stipend (Domestic) Boxplots
boxplot(sos$Gross.Stipend[which(sos$Guaranteed.Funding == "Yes")] ~ sos$Program[which(sos$Guaranteed.Funding == "Yes")],
ylim=ylimits,
main="Gross Domestic")
abline(h=0,col="black")
abline(h=c(NSERC.msc,NSERC.phd),col="red")
boxplot(us.data$Annual.guaranteed.salary*us.to.cad,
ylim=ylimits,
main="US [box],UK [line]")
abline(h=uk.stipend,col="blue")
abline(h=0,col="black")
boxplot(sos$Net.Stipend[which(sos$Guaranteed.Funding == "Yes")] ~ sos$Program[which(sos$Guaranteed.Funding == "Yes")],
ylim=ylimits,
main="Net Domestic")
abline(h=0,col="black")
boxplot(us.data$Annual.guaranteed.salary*us.to.cad,
ylim=ylimits,
main="US,UK")
abline(h=0,col="black")
abline(h=uk.stipend,col="blue")
par(mfcol=c(1,1))
boxplot(sos$Net.domestic...MBM.Threshold..2023.[which(sos$Guaranteed.Funding == "Yes")] ~ sos$Program[which(sos$Guaranteed.Funding == "Yes")],
ylim=ylimits,
main="Supported Domestic students vs. poverty line")
abline(h=0)
par(mfcol=c(1,1))
boxplot(sos$Net.domestic...Rent.year[which(sos$Guaranteed.Funding == "Yes")] ~ sos$Program[which(sos$Guaranteed.Funding == "Yes")],
ylim=ylimits,
main="Supported Domestic students after paying rent")
abline(h=0)
par(mfcol=c(1,1))
boxplot(sos$Net.domestic...Rent....12K[which(sos$Guaranteed.Funding == "Yes")] ~ sos$Program[which(sos$Guaranteed.Funding == "Yes")],
ylim=ylimits,
main="Supported Domestic students after paying rent and assuming ~$12k for food & incidentals")
abline(h=0)
plot(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Physics")],
sos$Net.Stipend[which(sos$Example.Department == "Physics")],
pch=16,
col="purple",
ylim=c(0,max(sos$Net.Stipend,na.rm=T)),
main="Univ. Endowment vs. Net Stipends")
points(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Biological Sciences - Ecology")],
sos$Net.Stipend[which(sos$Example.Department == "Biological Sciences - Ecology")],
pch=15,
col="forestgreen")
cor.test(sos$University.Endowment..Millions.of.Dollars.,
sos$Net.Stipend,use="complete.obs")
plot(sos$University.Total.Annual.Expenses.2023..Millions.of.Dollars.[which(sos$Example.Department == "Physics")],
sos$Net.Stipend[which(sos$Example.Department == "Physics")],
pch=16,
col="purple",
ylim=c(0,max(sos$Net.Stipend,na.rm=T)),
main="Annual Expenses vs. Net stipends")
points(sos$University.Total.Annual.Expenses.2023..Millions.of.Dollars.[which(sos$Example.Department == "Biological Sciences - Ecology")],
sos$Net.Stipend[which(sos$Example.Department == "Biological Sciences - Ecology")],
pch=15,
col="forestgreen")
cor.test(sos$University.Total.Annual.Expenses.2023..Millions.of.Dollars.,
sos$Net.Stipend,use="complete.obs")
read.csv("Minimum Stipend Data Collection_v1.csv")->sos
colnames(sos)
#us https://www.nature.com/articles/d41586-022-01392-w
read.csv("Biology Benchmark Comparison - 07-23-2024.csv")->us.data
#exchange rate
us.to.cad<-1.38
#convert from usd to cad internally below
#uk https://www.ukri.org/apply-for-funding/studentships-and-doctoral-training/london-weighting-enhanced-stipends-and-co-funding/
#https://trustforlondon.org.uk/data/poverty-thresholds/
#uk cost of living
#https://homelet.co.uk/homelet-rental-index
#uk average rent
uk.stipend<-19237
#uk.tuition.stipend<-4786
166*52->uk.cost.of.living.min
304*52->uk.cost.of.living.max
uk.to.cad<-1.78
#convert from gbp to cad
uk.stipend*uk.to.cad->uk.stipend
uk.cost.of.living.max*uk.to.cad->uk.cost.of.living.max
uk.cost.of.living.min*uk.to.cad->uk.cost.of.living.min
#NSERC Scholarships
NSERC.msc<-27000
NSERC.phd<-40000
par(mfcol=c(1,2))
#setting up a stable y to maintain through various plots
ylimits<-c(min(c(sos$Net.domestic...MBM.Threshold..2024.,
{us.data$Annual.guaranteed.salary-us.data$MIT.Living.Wage..1.adult..0.children.}*us.to.cad,
uk.stipend-uk.cost.of.living.min,
uk.stipend-uk.cost.of.living.max),
na.rm=T),
max(c(sos$Gross.Stipend,
{us.data$Annual.guaranteed.salary}*us.to.cad,
uk.stipend,
uk.stipend),
na.rm=T)
)
## Gross Stipend (Domestic) Boxplots
boxplot(sos$Gross.Stipend[which(sos$Guaranteed.Funding == "Yes")] ~ sos$Program[which(sos$Guaranteed.Funding == "Yes")],
ylim=ylimits,
main="Gross Domestic")
abline(h=0,col="black")
abline(h=c(NSERC.msc,NSERC.phd),col="red")
boxplot(us.data$Annual.guaranteed.salary*us.to.cad,
ylim=ylimits,
main="US [box],UK [line]")
abline(h=uk.stipend,col="blue")
abline(h=0,col="black")
boxplot(sos$Net.Stipend[which(sos$Guaranteed.Funding == "Yes")] ~ sos$Program[which(sos$Guaranteed.Funding == "Yes")],
ylim=ylimits,
main="Net Domestic")
abline(h=0,col="black")
boxplot(us.data$Annual.guaranteed.salary*us.to.cad,
ylim=ylimits,
main="US,UK")
abline(h=0,col="black")
abline(h=uk.stipend,col="blue")
par(mfcol=c(1,1))
boxplot(sos$Net.domestic...MBM.Threshold..2023.[which(sos$Guaranteed.Funding == "Yes")] ~ sos$Program[which(sos$Guaranteed.Funding == "Yes")],
ylim=ylimits,
main="Supported Domestic students vs. poverty line")
abline(h=0)
mean(sos$Net.domestic...MBM.Threshold..2023.,na.rm=T)
mean(sos$Total.Domestic.Fees/sos$Gross.Stipend*100,na.rm=T)
mean(sos$Total.Domestic.Fees)
length(which(sos$Guaranteed.Funding == "Yes"))
length(which(sos$Guaranteed.Funding == ""))
unique(sos$Guaranteed.Funding)
median(sos$Gross.Stipend[which(sos$Guaranteed.Funding == "Yes")],na.rm=TRUE)
mean(sos$Gross.Stipend[which(sos$Guaranteed.Funding == "Yes")],na.rm=TRUE)
mean(sos$Net.Stipend[which(sos$Guaranteed.Funding == "Yes")],na.rm=TRUE)
mean(sos$Total.Domestic.Fees[which(sos$Guaranteed.Funding == "Yes")]/sos$Gross.Stipend[which(sos$Guaranteed.Funding == "Yes")]*100,na.rm=T)
range(sos$Total.Domestic.Fees[which(sos$Guaranteed.Funding == "Yes")]/sos$Gross.Stipend[which(sos$Guaranteed.Funding == "Yes")]*100,na.rm=T)
mean(sos$Total.Domestic.Fees[which(sos$Guaranteed.Funding == "Yes")])
median(sos$Total.Domestic.Fees[which(sos$Guaranteed.Funding == "Yes")]/sos$Gross.Stipend[which(sos$Guaranteed.Funding == "Yes")]*100,na.rm=T)
mean(sos$Net.domestic...MBM.Threshold..2023.,na.rm=T)
mean(sos$Net.International...MBM.Threshold..2023.,na.rm=T)
mean(sos$Gross.Stipend[which(sos$Guaranteed.Funding == "Yes")]) - mean(us.data$Annual.guaranteed.salary*us.to.cad)
mean(sos$Gross.Stipend[which(sos$Guaranteed.Funding == "Yes")],na.rm=T) - mean(us.data$Annual.guaranteed.salary*us.to.cad,na.rm=T)
mean(sos$Net.stipend[which(sos$Guaranteed.Funding == "Yes")]) - mean(us.data$Annual.guaranteed.salary*us.to.cad)
mean(sos$Net.Stipend[which(sos$Guaranteed.Funding == "Yes")]) - mean(us.data$Annual.guaranteed.salary*us.to.cad)
mean(sos$Net.Stipend[which(sos$Guaranteed.Funding == "Yes")],na.rm=T) - mean(us.data$Annual.guaranteed.salary*us.to.cad)
plot(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Physics")],
sos$Net.Stipend[which(sos$Example.Department == "Physics")],
pch=16,
col="purple",
ylim=c(0,max(sos$Net.Stipend,na.rm=T)),
main="Univ. Endowment vs. Net Stipends")
points(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Biological Sciences - Ecology")],
sos$Net.Stipend[which(sos$Example.Department == "Biological Sciences - Ecology")],
pch=15,
col="forestgreen")
cor.test(sos$University.Endowment..Millions.of.Dollars.,
sos$Net.Stipend,use="complete.obs")
mean(sos$University.Endowment..Millions.of.Dollars.)
mean(sos$University.Endowment..Millions.of.Dollars.,na.rm=T)
max(sos$University.Endowment..Millions.of.Dollars.,na.rm=T)-min(sos$University.Endowment..Millions.of.Dollars.,na.rm=T)
3241/2
{max(sos$Net.Stipend,na.rm=T)-min(sos$Net.Stipend,na.rm=T)}/2->midpoint.Endowments
{max(sos$University.Endowment..Millions.of.Dollars.,na.rm=T)-min(sos$University.Endowment..Millions.of.Dollars.,na.rm=T)}/2->midpoint.Endowments
{max(sos$Net.Stipend,na.rm=T)-min(sos$Net.Stipend,na.rm=T)}/2->midpoint.nms
abline(v=midpoint.Endowments)
abline(h=midpoint.nms)
chisq.test(sos$University.Endowment..Millions.of.Dollars. ~ sos$Net.Stipend)
chisq.test(sos$University.Endowment..Millions.of.Dollars.,sos$Net.Stipend)
?chisq.test
?chisq.test
plot(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Physics")],
sos$Net.Stipend[which(sos$Example.Department == "Physics")],
pch=16,
col="purple",
ylim=c(0,max(sos$Net.Stipend,na.rm=T)),
main="Univ. Endowment vs. Net Stipends")
points(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Biological Sciences - Ecology")],
sos$Net.Stipend[which(sos$Example.Department == "Biological Sciences - Ecology")],
pch=15,
col="forestgreen")
cor.test(sos$University.Endowment..Millions.of.Dollars.,
sos$Net.Stipend,use="complete.obs")
abline(v=median(sos$University.Endowment..Millions.of.Dollars.,na.rm=T))
abline(h=median(sos$Net.Stipend,na.rm=T))
plot(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Physics")],
sos$Net.Stipend[which(sos$Example.Department == "Physics")],
pch=16,
col="purple",
ylim=c(0,max(sos$Net.Stipend,na.rm=T)),
main="Univ. Endowment vs. Net Stipends")
points(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Biological Sciences - Ecology")],
sos$Net.Stipend[which(sos$Example.Department == "Biological Sciences - Ecology")],
pch=15,
col="forestgreen")
cor.test(sos$University.Endowment..Millions.of.Dollars.,
sos$Net.Stipend,use="complete.obs")
abline(v=median(sos$University.Endowment..Millions.of.Dollars.,na.rm=T))
abline(h=median(sos$Net.Stipend,na.rm=T))
length(which(sos$University.Endowment..Millions.of.Dollars. >= ue &&
sos$Net.Stipend >= ns))
plot(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Physics")],
sos$Net.Stipend[which(sos$Example.Department == "Physics")],
pch=16,
col="purple",
ylim=c(0,max(sos$Net.Stipend,na.rm=T)),
main="Univ. Endowment vs. Net Stipends")
points(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Biological Sciences - Ecology")],
sos$Net.Stipend[which(sos$Example.Department == "Biological Sciences - Ecology")],
pch=15,
col="forestgreen")
cor.test(sos$University.Endowment..Millions.of.Dollars.,
sos$Net.Stipend,use="complete.obs")
median(sos$University.Endowment..Millions.of.Dollars.,na.rm=T)->ue
median(sos$Net.Stipend,na.rm=T)->ns
# or
#1500->ue
#15000->ns
abline(v=ue)
abline(h=ns)
length(which(sos$University.Endowment..Millions.of.Dollars. >= ue &&
sos$Net.Stipend >= ns))->up.right
length(which(sos$University.Endowment..Millions.of.Dollars. >= ue &
sos$Net.Stipend >= ns))->up.right
length(which(sos$University.Endowment..Millions.of.Dollars. < ue &
sos$Net.Stipend >= ns))->up.left
length(which(sos$University.Endowment..Millions.of.Dollars. < ue &
sos$Net.Stipend < ns))->down.left
length(which(sos$University.Endowment..Millions.of.Dollars. >= ue &
sos$Net.Stipend < ns))->down.right
up.right
up.left
down.left
down.right
plot(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Physics")],
sos$Net.Stipend[which(sos$Example.Department == "Physics")],
pch=16,
col="purple",
ylim=c(0,max(sos$Net.Stipend,na.rm=T)),
main="Univ. Endowment vs. Net Stipends")
points(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Biological Sciences - Ecology")],
sos$Net.Stipend[which(sos$Example.Department == "Biological Sciences - Ecology")],
pch=15,
col="forestgreen")
cor.test(sos$University.Endowment..Millions.of.Dollars.,
sos$Net.Stipend,use="complete.obs")
median(sos$University.Endowment..Millions.of.Dollars.,na.rm=T)->ue
median(sos$Net.Stipend,na.rm=T)->ns
# or
#1500->ue
#15000->ns
abline(v=ue)
abline(h=ns)
plot(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Physics")],
sos$Net.Stipend[which(sos$Example.Department == "Physics")],
pch=16,
col="purple",
ylim=c(0,max(sos$Net.Stipend,na.rm=T)),
main="Univ. Endowment vs. Net Stipends")
points(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Biological Sciences - Ecology")],
sos$Net.Stipend[which(sos$Example.Department == "Biological Sciences - Ecology")],
pch=15,
col="forestgreen")
cor.test(sos$University.Endowment..Millions.of.Dollars.,
sos$Net.Stipend,use="complete.obs")
median(sos$University.Endowment..Millions.of.Dollars.,na.rm=T)->ue
median(sos$Net.Stipend,na.rm=T)->ns
# or
#1500->ue
#15000->ns
abline(v=ue)
abline(h=ns)
length(which(sos$University.Endowment..Millions.of.Dollars. >= ue &
sos$Net.Stipend >= ns))->up.right
length(which(sos$University.Endowment..Millions.of.Dollars. < ue &
sos$Net.Stipend >= ns))->up.left
length(which(sos$University.Endowment..Millions.of.Dollars. < ue &
sos$Net.Stipend < ns))->down.left
length(which(sos$University.Endowment..Millions.of.Dollars. >= ue &
sos$Net.Stipend < ns))->down.right
# table
as.table(rbind(c(up.left,up.right),c(down.left,down.right)))->table
chisq.test(table)
plot(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Physics")],
sos$Net.Stipend[which(sos$Example.Department == "Physics")],
pch=16,
col="purple",
ylim=c(0,max(sos$Net.Stipend,na.rm=T)),
main="Univ. Endowment vs. Net Stipends")
points(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Biological Sciences - Ecology")],
sos$Net.Stipend[which(sos$Example.Department == "Biological Sciences - Ecology")],
pch=15,
col="forestgreen")
cor.test(sos$University.Endowment..Millions.of.Dollars.,
sos$Net.Stipend,use="complete.obs")
median(sos$University.Endowment..Millions.of.Dollars.,na.rm=T)->ue
median(sos$Net.Stipend,na.rm=T)->ns
# or
#1500->ue
#15000->ns
abline(v=ue)
abline(h=ns)
length(which(sos$University.Endowment..Millions.of.Dollars. >= ue &
sos$Net.Stipend >= ns))->up.right
length(which(sos$University.Endowment..Millions.of.Dollars. < ue &
sos$Net.Stipend >= ns))->up.left
length(which(sos$University.Endowment..Millions.of.Dollars. < ue &
sos$Net.Stipend < ns))->down.left
length(which(sos$University.Endowment..Millions.of.Dollars. >= ue &
sos$Net.Stipend < ns))->down.right
# table
as.table(rbind(c(up.left,up.right),c(down.left,down.right)))->table
chisq.test(table)
plot(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Physics")],
sos$Net.Stipend[which(sos$Example.Department == "Physics")],
pch=16,
col="purple",
ylim=c(0,max(sos$Net.Stipend,na.rm=T)),
main="Univ. Endowment vs. Net Stipends")
points(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Biological Sciences - Ecology")],
sos$Net.Stipend[which(sos$Example.Department == "Biological Sciences - Ecology")],
pch=15,
col="forestgreen")
cor.test(sos$University.Endowment..Millions.of.Dollars.,
sos$Net.Stipend,use="complete.obs")
#chi sq tests
#median(sos$University.Endowment..Millions.of.Dollars.,na.rm=T)->ue
#median(sos$Net.Stipend,na.rm=T)->ns
# or
1500->ue
15000->ns
abline(v=ue)
abline(h=ns)
length(which(sos$University.Endowment..Millions.of.Dollars. >= ue &
sos$Net.Stipend >= ns))->up.right
length(which(sos$University.Endowment..Millions.of.Dollars. < ue &
sos$Net.Stipend >= ns))->up.left
length(which(sos$University.Endowment..Millions.of.Dollars. < ue &
sos$Net.Stipend < ns))->down.left
length(which(sos$University.Endowment..Millions.of.Dollars. >= ue &
sos$Net.Stipend < ns))->down.right
# table
as.table(rbind(c(up.left,up.right),c(down.left,down.right)))->table
chisq.test(table)
lm(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Biological Sciences - Ecology")] ~
sos$Net.Stipend[which(sos$Example.Department == "Biological Sciences - Ecology")])->lm.end
abline(lm.end)
lm(sos$Net.Stipend[which(sos$Example.Department == "Biological Sciences - Ecology")] ~ sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Biological Sciences - Ecology")] )->lm.end
abline(lm.end)
plot(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Physics")],
sos$Net.Stipend[which(sos$Example.Department == "Physics")],
pch=16,
col="purple",
ylim=c(0,max(sos$Net.Stipend,na.rm=T)),
main="Univ. Endowment vs. Net Stipends")
points(sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Biological Sciences - Ecology")],
sos$Net.Stipend[which(sos$Example.Department == "Biological Sciences - Ecology")],
pch=15,
col="forestgreen")
cor.test(sos$University.Endowment..Millions.of.Dollars.,
sos$Net.Stipend,use="complete.obs")
# Line of correlation
lm(sos$Net.Stipend[which(sos$Example.Department == "Biological Sciences - Ecology")] ~ sos$University.Endowment..Millions.of.Dollars.[which(sos$Example.Department == "Biological Sciences - Ecology")] )->lm.end
abline(lm.end)
points(sos$University.Endowment..Millions.of.Dollars.[which(sos$University == "Victoria")],
sos$Net.Stipend[which(sos$University == "Victoria")],
pch=17,
col="blue")
points(sos$University.Endowment..Millions.of.Dollars.[which(sos$University == "Victoria")],
sos$Net.Stipend[which(sos$University == "Victoria")],
pch=17,cex=2,
col="blue")
?glmm
?lm
install.packages(glmm)
install.packages("glmm")
?glmm
library(glmm)
?glmm
glmm(sos$Net.Stipend ~ sos$University.Endowment..Millions.of.Dollars. + sos$Example.Department +  sos$University)->glmm.1
glmm(sos$Net.Stipend ~ sos$University.Endowment..Millions.of.Dollars. + sos$Example.Department +  sos$University,varcomps.equal = F)->glmm.1
glmm(sos$Net.Stipend ~ sos$University.Endowment..Millions.of.Dollars. + sos$Example.Department +  sos$University,var.comps.names = c('z1'))->glmm.1
glmm(sos$Net.Stipend ~ sos$University.Endowment..Millions.of.Dollars. + sos$Example.Department +  sos$University,varcomps.names = c('z1'))->glmm.1
glmm(sos$Net.Stipend ~ sos$University.Endowment..Millions.of.Dollars. + sos$Example.Department +  sos$University,varcomps.names = c('z1'),family.glmm=bernoulli.glmm())->glmm.1
glmm(sos$Net.Stipend ~ sos$University.Endowment..Millions.of.Dollars. + sos$Example.Department +  sos$University,varcomps.names = c('z1'),family.glmm=bernoulli.glmm->glmm.1
)
glmm(sos$Net.Stipend ~ sos$University.Endowment..Millions.of.Dollars. + sos$Example.Department +  sos$University,varcomps.names = c('z1'),family.glmm=bernoulli.glmm)->glmm.1
glmm(sos$Net.Stipend ~ sos$University.Endowment..Millions.of.Dollars. + sos$Example.Department +  sos$University,varcomps.names = c('Net.Stipend'),family.glmm=bernoulli.glmm)->glmm.1
?bernoulli.glmm
glmm(sos$Net.Stipend ~ sos$University.Endowment..Millions.of.Dollars. + sos$Example.Department +  sos$University,varcomps.names = c('Net.Stipend'),family.glmm=bernoulli.glmm())->glmm.1
unique(sos$University)
unique(sos$Department)
unique(sos$Example.Department)
clust <- makeCluster(2)
glmm.net <- glmm(Net.Stipend ~ 0 + University.Endowment..Millions.of.Dollars.,
random = list(~ 0 + Example.Department,    ~ 0 + University),
varcomps.names = c('Physics',"Biological Sciences - Ecology"),
data = sos,
family.glmm = bernoulli.glmm,
m = 10^4,
debug = TRUE,
cluster = clust)
install.packages('lme4')
library(lme4)
mp1 <- glmer(Net.Stipend ~ University.Endowment..Millions.of.Dollars. +
Example.Department +
(1 | University),
data = sos,
family = "poisson")
?glmer
mp1 <- glmer(Net.Stipend ~ University.Endowment..Millions.of.Dollars. +
Example.Department +
(1 | University),
data = sos,
family = "gaussian")
mp1 <- glmer(Net.Stipend ~ University.Endowment..Millions.of.Dollars. +
Example.Department +
(1 | University),
data = sos,
family = "binomial")
mp1 <- glmer(Net.Stipend ~ University.Endowment..Millions.of.Dollars. +
Example.Department +
(1 | University),
data = sos,
family = "Gamma")
mp1 <- glmer(Net.Stipend ~ University.Endowment..Millions.of.Dollars. +
Example.Department +
(1 | University),
data = sos,
family = "inverse.gaussian")
mp1 <- glmer(Net.Stipend ~ University.Endowment..Millions.of.Dollars. +
Example.Department +
(1 | University),
data = sos,
family = "quasi")
mp1 <- glmer(Net.Stipend ~ University.Endowment..Millions.of.Dollars. +
Example.Department +
(1 | University),
data = sos,
family = "quasibinomial")
mp1 <- glmer(Net.Stipend ~ University.Endowment..Millions.of.Dollars. +
Example.Department +
(1 | University),
data = sos,
family = "quasipoisson")
mp1 <- glmer(Net.Stipend ~ University.Endowment..Millions.of.Dollars. +
Example.Department +
(1 | University),
data = sos,
family = "binomial")
mp1 <- glmer(Net.Stipend[which(sos$Net.Stipend > 0)] ~
University.Endowment..Millions.of.Dollars.[which(sos$Net.Stipend > 0)] +
Example.Department[which(sos$Net.Stipend > 0)] +
(1 | University[which(sos$Net.Stipend > 0)]),
data = sos,
family = "binomial")
mp1 <- glmer(Net.Stipend[which(sos$Net.Stipend > 0)] ~
University.Endowment..Millions.of.Dollars.[which(sos$Net.Stipend > 0)] +
Example.Department[which(sos$Net.Stipend > 0)] +
University[which(sos$Net.Stipend > 0)],
data = sos,
family = "binomial")
which(sos$Net.Stipend > 0)
sos[which(sos$Net.Stipend > 0),]->sos.trim
mp1 <- glmer(Net.Stipend ~
University.Endowment..Millions.of.Dollars. +
Example.Department +
(1|University),
data = sos.trim,
family = "binomial")
sos$Net.International...MBM.Threshold..2023.
colnames(sos)
as.factor(sos$University)->sos$University
mp1 <- glmer(Net.Stipend ~
University.Endowment..Millions.of.Dollars. +
Example.Department +
(1|University),
data = sos.trim,
family = "binomial")
as.factor(sos$Example.Department)->sos$Example.Department
mp1 <- glmer(Net.Stipend ~
University.Endowment..Millions.of.Dollars. +
Example.Department +
(1|University),
data = sos.trim,
family = "binomial")
